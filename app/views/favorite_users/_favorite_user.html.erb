<%# locals: (favorite_user:) %>

<div id="<%= dom_id favorite_user %>">
  <% if favorite_user.persisted? && favorite_user.mutual_favorite_user&.persisted? %>
    <%= ui_tooltip "Remove from your list of Ruby Friends" do %>
      <%= button_to favorite_user_path(favorite_user), method: :delete do %>
        <%= fa("star", size: :sm, style: :solid, class: "fill-red-600") %>
      <% end %>
    <% end %>
  <% elsif favorite_user.persisted? %>
    <%= ui_tooltip "Remove from your list of Favorite Rubyists" do %>
      <%= button_to favorite_user_path(favorite_user), method: :delete do %>
        <%= fa("star", size: :sm, style: :solid, class: "fill-yellow-400") %>
      <% end %>
    <% end %>
  <% else %>
    <%= ui_tooltip "Add to your list of Favorite Rubyists" do %>
      <%= button_to favorite_users_path(favorite_user: {favorite_user_id: favorite_user.favorite_user.id}), method: :post do %>
        <%= fa("star", size: :sm, style: :regular) %>
      <% end %>
    <% end %>
  <% end %>
</div>
